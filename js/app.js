(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var i=t.g.document;if(!e&&i&&(i.currentScript&&(e=i.currentScript.src),!e)){var s=i.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();new class{constructor(t){this.gamePlay=t,this.startGame=document.querySelector(".start-game"),this.allCells=document.querySelector(".container"),this.win=document.querySelector(".win"),this.init()}init(){this.startGame.addEventListener("click",(()=>{this.gamePlay.startGame||this.gamePlay.start()})),this.allCells.addEventListener("click",(()=>{this.gamePlay.startGame&&event.target.classList.contains("goblin")&&(this.gamePlay.possibilityToClick&&(this.win.innerText=parseFloat(this.win.innerText)+1,this.gamePlay.addPlayerCount()),this.gamePlay.possibilityToClick=!1)}))}}(new class{constructor(){this.cells=document.querySelectorAll(".cell"),this.win=document.querySelector(".win"),this.lose=document.querySelector(".lose"),this.startGame=!1,this.possibilityToClick=!1}start(){this.startGame=!0,this.goblinCount=0,this.playerCount=0,this.possibilityToClick=!0,this.goblin=document.createElement("img"),this.goblin.classList.add("goblin"),this.goblin.src="./img/goblin.png",this.cells[this.getRandomCellNumber()].appendChild(this.goblin),this.interval=setInterval((()=>{this.possibilityToClick=!0,this.cells[this.getRandomCellNumber()].appendChild(this.goblin),this.goblinCount+=1,this.checkGame()}),1e3)}checkGame(){this.goblinCount-this.playerCount>5&&(clearInterval(this.interval),this.goblin.parentNode.removeChild(this.goblin),this.startGame=!1,alert("Вы проиграли!"))}addPlayerCount(){this.playerCount+=1}getRandomCellNumber(){const t=[];for(let e=0;e<this.cells.length;e+=1)this.getNowGoblinPosition()!==e&&t.push(e);return t[Math.floor(Math.random()*t.length)]}getNowGoblinPosition(){for(let t=0;t<this.cells.length;t+=1)if(this.cells[t].firstChild)return t}}),t.p,t.p})();